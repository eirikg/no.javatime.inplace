<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:15.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:15.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 70.85pt 70.85pt 70.85pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=NO-BOK link=blue vlink=purple>

<div class=WordSection1>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0cm 0cm 4.0pt 0cm'>

<p class=MsoTitle><span lang=EN-US>Project and Bundle Operations</span></p>

</div>

<p class=MsoTocHeading><span lang=EN-US>Contents</span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc335574308">Project and Bundle
Relationships<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc335574309">An active Workspace<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc335574310">Explicit and
Implicit Bundle Operations<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc335574311">Project and
Workspace Commands<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc335574312">The Relationship
between Project and Bundle Operations<span style='color:windowtext;display:
none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>This section presents an overview of the
collection of project and workspace wide IDE commands and their relationship to
bundle operations. </span></p>

<p class=MsoNormal><span lang=EN-US>A bundle operation or command affects the
life cycle of a bundle by moving the bundle from one state to another. See <a
href="../concepts/Dynamic%20Workspace%20Bundles.htm#BundleStatesAndTransitions">Bundle
States and Transitions</a> for an overview of the possible transitions and
states a bundle may take.</span></p>

<h2><a name="_Toc335574308"><span lang=EN-US>Project and Bundle Relationships</span></a></h2>

<p class=MsoNormal><span lang=EN-US>There is a <a name=idx131></a><a
name=idx132></a>conditional <i>one-to-one</i> (1:0-1)</span><span lang=EN-US
style='font-size:9.5pt;line-height:115%;font-family:"Arial","sans-serif";
color:black'> part of </span><span lang=EN-US>relationship</span><span
lang=EN-US style='font-size:9.5pt;line-height:115%;font-family:"Arial","sans-serif";
color:black'> </span><span lang=EN-US>between a project and a workspace bundle.
The relationship is uniquely defined by the project name and one of the bundle
identifiers, which for a workspace bundle, is the combination of the symbolic
name and the version as defined in the manifest file. The part-of relationship
is physically implemented by the fact that the manifest file is part of the
project identified by the project name. The project and the bundle also share a
common location identifier, which is used to install the bundle from the
project. When a bundle is in state UNINSTALLED the relationship is (1:0), and
(1:1) for all other bundle states.</span></p>

<h2><a name="_Toc335574309"></a><a name="_Toc313479384"><span lang=EN-US>An
active Workspace</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Due to this strong relationship between a
project and a bundle, project wide operations, as e.g. renaming and moving a
project, affects activated bundles in different ways.</span></p>

<p class=MsoNormal><span lang=EN-US>In a deactivated workspace all bundles are
in state UNINSTALLED. A deactivated workspace is passive in the sense that it
is not reacting to changes in the workspace - project operations and builds -
and there are no bundle commands but the activate command available. </span></p>

<h2><a name="_Toc335574310"><span lang=EN-US>Explicit and Implicit Bundle
Operations</span></a></h2>

<p class=MsoNormal><span lang=EN-US>You change the state of a bundle by
executing bundle commands (e.g. start and stop) or by certain project/workspace
operations (e.g. save or close a project).</span></p>

<p class=MsoNormal><span lang=EN-US>The standard OSGi operations are, install,
uninstall, update, resolve, refresh, start and stop. For workspace bundles,
activate and deactivate are added as composite bundle commands performing
multiple OSGi operations on a bundle. </span></p>

<p class=MsoNormal><span lang=EN-US>All commands are further divided into
explicit (activate, deactivate, reset, refresh, start, stop) and implicit
(install, uninstall, update, resolve) commands. Explicit commands are executed directly
from the UI. Implicit and explicit commands are executed by the InPlace Activator
when project and workspace commands are executed.</span></p>

<h2><a name="_Toc335574311"><span lang=EN-US>Project and Workspace Commands</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Project and workspace wide commands that
triggers bundle operations are:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Project:</span></b><span lang=EN-US> Create,
import, open, delete, close, rename, move and project build (manual and
automatic) commands.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Workspace:</span></b><span lang=EN-US> All
manual and automatic commands that affect more than one project. Workspace
build or a Save all are examples of workspace wide commands. </span></p>

<p class=MsoNormal><span lang=EN-US>A build command triggers a bundle update
operation. All project commands are considered CRUD operations. The operations
are Create (create new, open and import), Rename (rename and move), Update (save
when automatic build is on, manual build and updated manually) and Delete
(delete and close) a project.</span></p>

<p class=MsoNormal><span lang=EN-US>Activated bundles respond automatically to
CRUD operations on projects.  Create, Rename and Update are recognized as
changes and an automatic or manual build is needed to get a new compiled
project state for bundle operations to react on. </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Create</span></b><span lang=EN-US> (create
new, open and import) project<b> </b>installs a bundle, moving it to state
INSTALLED, if the workspace is activated, otherwise the bundle stays in state
UNINSTALLED. If a project is opened or imported, the bundle is started if the
project was activated when exported or closed.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Rename</span></b><span lang=EN-US> (rename
and move) project reinstalls an activated bundle, by first uninstalling the
bundle with the original name (rename) or location (move) and then installing,
resolving and starting the bundle with the new name or location. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Update</span></b><span lang=EN-US> (save when
automatic build is on, manual build and updated manually)  of a modified
project that has been built stops, updates, resolves and starts the
corresponding  activated bundle and dependent bundles again in the right
dependency order. </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Delete </span></b><span lang=EN-US>(delete
and close) a project deactivates a bundle by uninstalling it before the project
is deleted and removed from the workspace. If a project is closed it is
uninstalled before it is hidden from the workspace. Note that if a deleted or
closed project is referenced from other requiring projects, the next build
fails.</span></p>

<p class=MsoNormal><span lang=EN-US>The goal of an activated workspace is to
keep the activated bundles up to date where the runtime instances reflects the
most recent builds of projects. If possible bundles are restored to the same
state as they had before any CRUD operation. </span></p>

<h2><a name="_Toc335574312"><span lang=EN-US>The Relationship between Project and
Bundle Operations</span></a></h2>

<p class=MsoNormal><span lang=EN-US>To illustrate the interaction between IDE
projects operations and OSGi bundle commands the implicit update command may
serve as an example.</span></p>

<p class=MsoNormal><span lang=EN-US>If <i>Build</i> <i>Automatically</i> is
switched on, <i>File</i> | <i>Save</i> (project update operation), after a
modification of some content in a project, triggers a build which again triggers
a bundle update command. If the bundle was active prior to the save command,
the bundle is first stopped and then unresolved. The updated version of the
bundle is then read from the input stream and installed by replacing the old
content. Lastly the bundle is resolved and started again. Update creates a new
bundle revision and if the <a
href="Setting%20Bundle%20Options.htm#RefreshOnUpdate">Refresh on Update</a>
option is on any unused revisions and their wires are released.</span></p>

<p class=MsoNormal><span lang=EN-US>If the bundle to update has changed its
requirements to other bundles by importing packages from say a deactivated
bundle, the deactivated (or providing) bundle is activated and started as part
of the update process.</span></p>

</div>

</body>

</html>
